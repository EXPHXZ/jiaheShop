<!doctype html>
<html lang = "en">
    <head>
        <title>商品页面</title>
        <meta charset = "UTF-8">
        <link rel = "stylesheet" href = "css/query.css">
        <link rel = "stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
        <link rel = "stylesheet" href = "//cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
    </head>

    <body>
        <header>
            <div class = "logo">
                <h1>嘉禾商城</h1>
            </div>
        </header>

        <div id = "nav">
            <nav v-if="user.identity === 0">
                <ul>
                    <li @click="goToCommodity"><a><i class="fas fa-shopping-bag"></i>商品管理</a></li>
                    <li @click="goToOrder"><a><i class="fas fa-list-alt"></i>订单管理</a></li>
                    <li @click="goToAftermarket"><a><i class="fas fa-exchange-alt"></i>售后管理</a></li>
                    <li @click="goToUserManagement"><a><i class="fas fa-shield-alt"></i>权限管理</a></li>
                    <li @click="goToPersonalInformation"><a><i class="fas fa-user"></i>个人中心</a></li>
                </ul>
            </nav>
            <nav v-else-if="user.identity === 1">
                <ul>
                    <li @click="goToOrder"><a><i class="fas fa-list-alt"></i>订单管理</a></li>
                    <li><a><i class="fas fa-user"></i>个人中心</a></li>
                </ul>
            </nav>
            <nav v-else-if="user.identity === 2">
                <ul>
                    <li @click="goToCommodity"><a><i class="fas fa-shopping-bag"></i>商品管理</a></li>
                    <li><a><i class="fas fa-user"></i>个人中心</a></li>
                </ul>
            </nav>
            <nav v-else-if="user.identity === 3">
                <ul>
                    <li @click="goToAftermarket"><a><i class="fas fa-exchange-alt"></i>售后管理</a></li>
                    <li><a href=""><i class="fas fa-user"></i>个人中心</a></li>
                </ul>
            </nav>
        </div>

        <div id="content" class="content">
        <!--    添加表单-->
            <el-dialog
                    title="添加商品"
                    :visible.sync="dialogVisible"
                    width="50%"
                    >
                <el-form ref="form" :model="addCommodity" label-width="80px">
                    <el-form-item label="商品名">
                        <el-input v-model="addCommodity.commodityName"></el-input>
                    </el-form-item>
                    <el-form-item label="简单描述">
                        <el-input type="textarea" v-model="addCommodity.simpleDescription"></el-input>
                    </el-form-item>
                    <el-form-item label="详细描述">
                        <el-input type="textarea" v-model="addCommodity.detailedDescription"></el-input>
                    </el-form-item>
                    <el-form-item label="规格">
                        <el-select v-model="addCommodity.size" placeholder="请选择规格">
                            <el-option label="小" value="小"></el-option>
                            <el-option label="中" value="中"></el-option>
                            <el-option label="大" value="大"></el-option>
                        </el-select>
                    </el-form-item>
                    <el-form-item label="分类">
                        <el-input v-model="addCommodity.category"></el-input>
                    </el-form-item>
                    <el-form-item label="价格">
                        <el-input v-model="addCommodity.price"></el-input>
                    </el-form-item>
                    <el-form-item label="商品状态">
                        <el-select v-model="addCommodity.status" placeholder="请选择商品状态">
                            <el-option label="上架" value="0"></el-option>
                            <el-option label="下架" value="1"></el-option>
                        </el-select>
                    </el-form-item>
                    <el-form-item label="余量">
                        <el-input v-model="addCommodity.remnant"></el-input>
                    </el-form-item>
                    <el-form-item>
                        <el-button type="primary" @click="add">确定添加</el-button>
                        <el-button @click="dialogVisible = false">取消</el-button>
                    </el-form-item>
                </el-form>
          </span>
            </el-dialog>
        </div>

        <script src="js/vue.js"></script>
        <script src="element-ui/lib/index.js"></script>
        <script src="js/axios-0.18.0.js"></script>
        <link rel="stylesheet" href="element-ui/lib/theme-chalk/index.css">

        <script>
            new Vue({
                el:"#content",

            })

            new Vue({
                el:"#nav",
                data() {
                    return {
                        user: {
                        }
                    }
                },

                created() {
                    const userInfo = window.localStorage.getItem("userInfo")
                    if (userInfo) {
                        this.user = JSON.parse(userInfo);
                    }
                    console.log(this.user)
                },

                methods: {
                    goToCommodity(){
                        window.location.href = "commodity.html"
                    },
                    goToAftermarket(){
                        window.location.href = "aftermarket.html"
                    },
                    goToOrder(){
                        window.location.href = "order.html"
                    },
                    goToUserManagement(){
                        window.location.href = "userManagement.html"
                    },
                    goToPersonalInformation() {
                        window.location.href = "personalInformation.html"
                    }
                }
            })
        </script>

    </body>
</html>